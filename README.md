# daily_status_report
daily email report of IT infrastructure status
This report piggybacks off data already collected via nagios, and sends out a point-in-time status via email.

# Assumptions
It is assumed you already have a working nagios environment in place, which provides SSH key pair auth to monitored devices

# Installation
Copy the .pl and .cfg files to the nagios user home directory

Edit the .cfg to match your local environment to/from email addresses, hostnames

Create a cron job similar to the following:
```
    5 * * * * /home/nagios/daily_status_report.pl >/dev/null 2>&1 #generate daily report of host health
```

# Sample Output

This report is generated by the /home/nagios/daily_status_report.pl script on MyServer01

Last updated 2022-07-13

<pre>

<table border="1"> 
<tr bgcolor="gray"><td colspan="6"> Linux Hosts 
<tr bgcolor="gray"><td> Hostname <td> Ping <td> CPU util <td> RAM util<td> Paging Space util <td> Disk util
<tr><td>linhost99 
   <td bgcolor="green"> up 
    <td bgcolor="red"> 92% 
   <td bgcolor="green"> 49.4% 
    <td bgcolor="green"> 13.9% 
    <td bgcolor="white"> 
    <br><font color="green"> /    9.5% 
    <br><font color="green"> /apps/oracle    21.0% 
</table><p><hr><p>


<table border="1"> 
<tr bgcolor="gray"><td colspan="6"> Windows Hosts 
<tr bgcolor="gray"><td> Hostname <td> Ping <td> CPU util <td> RAM util<td> Paging Space util <td> Disk util
<tr><td>winhost99 
   <td bgcolor="green"> up 
   <td bgcolor="green"> 12% 
   <td bgcolor="red"> 99.4% 
   <td bgcolor="green"> 13.9% 
   <td bgcolor="white"> 
   <br><font color="green"> C:  9.5% 
   <br><font color="green"> D:  21.0% 
</table><p><hr><p>


<table border="1"> 
<tr bgcolor="gray"><td colspan="6"> AIX Hosts 
<tr bgcolor="gray"><td> Hostname <td> Ping <td> CPU <td> paging <td> errpt
<tr><td>aixhost07
   <td bgcolor="green"> up 
   <td bgcolor="green"> OK
   <td bgcolor="green"> OK
   <td bgcolor="green"> OK
</table><p><hr><p>


<table border="1"> 
<tr bgcolor="gray"><td colspan="3"> IBM Hardware Management Consoles
<tr bgcolor="gray"><td> Hostname <td> Ping <td> Health
<tr><td>hmc01
   <td bgcolor="green"> up 
   <td bgcolor="green"> OK
</table><p><hr><p>

<table border="1"> 
<tr bgcolor="gray"><td colspan="4"> Brocade fibre channel switches
<tr bgcolor="gray"><td> Hostname <td> Ping <td> Model <td> Health
<tr><td>hmc01
   <td bgcolor="green"> up 
   <td bgcolor="green"> Brocade300
   <td bgcolor="green"> OK
</table><p><hr><p>

<table border="1"> 
<tr bgcolor="gray"><td colspan="3"> NetApp ONTAP Storage Systems
<tr bgcolor="gray"><td> Hostname <td> Ping <td> Health
<tr><td>hmc01
   <td bgcolor="green"> up 
   <td bgcolor="green"> OK
</table><p><hr><p>



<table border="1"> 
<tr bgcolor="gray"><td colspan="6"> Dell iDRAC9 Service Processors
<tr bgcolor="gray"><td> Hostname <td> Ping <td> Model <td> Service Tag<td> System Status <td> Storage Status
<tr><td>idrac01 
   <td bgcolor="green"> up 
   <td bgcolor="green"> PowerEdge R730
   <td bgcolor="white"> XX123456
    <td bgcolor="green"> ok
    <td bgcolor="white"> ok
</table><p><hr><p>


<table border="1"> 
<tr bgcolor="gray"><td colspan="9"> Hewlett Packard ILO4 Service Processors
<tr bgcolor="gray"><td> Hostname <td> Ping <td> Power Redundancy <td> Fans<td> Ambient Temperature <td> Physical Disks <td> Logical Disks <td> Processors <td Memory Modules
<tr><td>idrac01 
   <td bgcolor="green"> up 
   <td bgcolor="green"> ok
   <td bgcolor="white"> 8/8 fans ok
    <td bgcolor="green"> 21 C
    <td bgcolor="green"> 3/3 disks ok
    <td bgcolor="green"> 1/1 disks ok
    <td bgcolor="green"> 2/2 ok
    <td bgcolor="green"> 24/24 ok
</table><p><hr><p>

<table border="1"> 
<tr bgcolor="gray"><td colspan="9"> Lenovo xClarity Service Processors
<tr bgcolor="gray"><td> Hostname <td> Ping <td> Model <td> Serial <td> Cooling Devices <td> Ambient Temperature <td> Power Modules <td> Local Storage <td> Processors <td Memory <td> System Health
<tr><td>server1-xclarity
   <td bgcolor="green"> up 
   <td bgcolor="green"> ModelXYX123
   <td bgcolor="white"> J101XXXXX 
    <td bgcolor="green"> Normal
    <td bgcolor="green"> 27.00C
    <td bgcolor="green"> Normal
    <td bgcolor="green"> WARNING
    <td bgcolor="green"> CRITICAL
    <td bgcolor="green"> Normal
    <td bgcolor="green"> WARNING
</table><p><hr><p>



<table border="1"> 
<tr bgcolor="gray"><td colspan="4"> IBM xSeries IMM2 Service Processors
<tr bgcolor="gray"><td> Hostname <td> Ping <td> Model <td> Serial <td> System Health <td> Power Status <td> Ambient Temperature
<tr><td>server2-imm2 
   <td bgcolor="green"> up 
   <td bgcolor="white"> 7914-AC1
   <td bgcolor="green"> E24XXXX
   <td bgcolor="green"> normal
   <td bgcolor="green"> poweredOn
   <td bgcolor="green"> 21C
</table><p><hr><p>


<table border="1"> 
<tr bgcolor="gray"><td colspan="4"> Dell EMC UniSphere Storage Manager Hosts
<tr bgcolor="gray"><td> Hostname <td> Ping <td> Service Tag<td> System Status
<tr><td>idrac01 
   <td bgcolor="green"> up 
   <td bgcolor="white"> XX123456
   <td bgcolor="green"> ok
</table><p><hr><p>

</pre>
